#AUTOGENERATED FILE; EDIT oasis.sh INSTEAD

OASISFormat:  0.2
OCamlVersion: >= 3.12
Name:         core
Version:      0.7.0
Synopsis:     Jane Street Capital's standard library overlay
Authors:      Jane street capital
Copyrights:   (C) 2008-2010 Jane Street Capital LLC
License:      LGPL-2.1 with OCaml linking exception
LicenseFile:  LICENSE
Plugins:      StdFiles (0.2),
              DevFiles (0.2),
              META (0.2)
BuildTools:   ocamlbuild
Description:  Jane Street Capital's standard library overlay
XStdFilesAUTHORS: false
XStdFilesINSTALLFilename: INSTALL
XStdFilesREADME: false

Flag linux
  Description: Enable linux specific extensions
  Default$:    system(linux)

Library core
  Path:               lib
  FindlibName:        core
  Pack:               true
  Modules:Agnostic_mutex,Array_permute,Avltree,Bag,Bigbuffer,Bigstring,Bigsubstring,Binable,Binary_packing,Blang,Bool,Bucket,Byte_units,Caml,Common,Comparable,Constrained_float,Container,Core_arg,Core_array,Core_char,Core_condition,Core_field,Core_filename,Core_gc,Core_hashtbl,Core_hashtbl_intf,Core_int,Core_int32,Core_int63,Core_int64,Core_list,Core_map,Core_map_intf,Core_mutex,Core_nativeint,Core_printexc,Core_printf,Core_queue,Core_set,Core_set_intf,Core_sexp,Core_stack,Core_string,Core_sys,Core_thread,Core_unix,Crc,Daemon,Date,Dequeue,Doubly_linked,Error_check,Exn,Float,Floatable,Float_intf,Float_robust_compare,Fn,Force_once,Fqueue,Hashable,Hash_heap,Hash_queue,Hash_set,Hash_set_intf,Heap,Identifiable,In_channel,Intable,Int_conversions,Interfaces,Interval,Interval_intf,Int_intf,Int_set,Linebuf,Local_utest,Lock_file,Make_substring,Memo,Monad,Month,Mutex0,Ofday,Option,Ordered_collection_common,Out_channel,Piecewise_linear,Pretty_printer,Quickcheck,Ref,Result,Robustly_comparable,Set_once,Sexpable,Signal,Space_safe_tuple,Span,Squeue,Std,Std_internal,Stringable,String_id,Substring,Substring_intf,Terminal_io_intf,Thread_safe_queue,Time,Time_internal,Timer,Tuple,TZ,Unique_id,Unique_id_intf,Unit,Utest,Weekday,With_return,Word_size
  #This should actually be the result of calling -D_LARGEFILE64_SOURCE
  CCOpt:              -D_LARGEFILE64_SOURCE
  #Hack to skip the compilation of linux_ext
  CSources:           bigstring_marshal_stubs.c,bigstring_stubs.c,includes.h,jane_common.h,linebuf_stubs.c,misc.c,ocaml_utils.h,ocaml_utils_stubs.c,open_stubs.c,signal_stubs.c,socketaddr.h,unix_stubs.c,unix_utils.h
  #CSources+:        linux_ext_stubs.c,linux_ext_stubs.h
  #Modules+:         Linux_ext,Bigstring_marshal
  if flag(linux)
    CCLib:            -lrt
  BuildDepends:       sexplib.syntax,
                      sexplib (>= 5.1.2),
                      fieldslib.syntax,
                      fieldslib (>= 0.1.2),
                      bin_prot (>= 1.3.1),
                      bin_prot.syntax,
                      bigarray,
                      res,
                      unix,
                      threads

Flag tests
  Description:        Build and run tests
  Default:            true

Executable test_runner
  Path:               lib_test
  MainIs:             test_runner.ml
  Build$:             flag(tests)
  Custom:             true
#  CompiledObject:     best
  Install:            false
  BuildDepends:       core,oUnit (>= 1.0.2)

Test test_runner
  Run$:               flag(tests)
  Command:            $test_runner
  WorkingDirectory:   lib_test

